var headerButton=document.getElementById("header-button"),callbackButton=document.querySelectorAll(".modal-button"),modalContainer=document.querySelector(".modal-form"),modalCloseButton=document.querySelector(".modal-form__close-button"),mainForm=document.querySelector(".main-form").querySelector("form"),mainName=mainForm.querySelector("[name=name]"),mainTel=mainForm.querySelector("[name=tel]"),mainTextArea=mainForm.querySelector("[name=comment]"),modalForm=document.querySelector(".modal-form"),form=modalForm.querySelector("form"),name=form.querySelector("[name=name]"),tel=form.querySelector("[name=tel]"),textArea=form.querySelector("[name=comment]"),siteMap={toggleButton:document.getElementById("footer-toggle"),siteMapList:document.querySelector(".site-map__list"),siteMapListLabel:document.querySelector(".footer__toggle-label")},footerAdress={toggleButton:document.getElementById("adress-toggle"),siteMapList:document.querySelector(".footer__adress-description"),siteMapListLabel:document.querySelector(".adress-toggle-label")};headerButton&&document.documentElement.clientWidth<768&&(headerButton.textContent="бесплатная консультация");var onToggleButtonClick=function(e,t,o){e.checked?(t.style="display: block",o.style="height: 2px; overflow: hidden"):(t.style="display: none",o.style="height: 17px")};siteMap.toggleButton.addEventListener("change",function(){onToggleButtonClick(siteMap.toggleButton,siteMap.siteMapList,siteMap.siteMapListLabel)}),footerAdress.toggleButton.addEventListener("change",function(){onToggleButtonClick(footerAdress.toggleButton,footerAdress.siteMapList,footerAdress.siteMapListLabel)});var isStorageSupport=!0,isStorageEmail=!0,storage="",telStorage="",onModalOpen=function(e){e.preventDefault(),modalForm.classList.contains("modal-form--closed")&&(modalForm.classList.remove("modal-form--closed"),storage&&telStorage?(name.value=storage,tel.value=emailStorage,textArea.focus()):storage?(name.value=storage,console.log(name),tel.focus()):name.focus())};try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}try{emailStorage=localStorage.getItem("tel")}catch(e){isStorageEmail=!1}for(var i=0;i<callbackButton.length;i++)callbackButton[i].addEventListener("click",onModalOpen);modalCloseButton.addEventListener("click",function(e){e.preventDefault(),modalForm.classList.add("modal-form--closed")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modalForm.classList.contains("modal-form--closed")||(e.preventDefault(),modalForm.classList.add("modal-form--closed")))});var submitForm=function(e,t,o){e.addEventListener("submit",function(e){t.value&&o.value?isStorageSupport&&isStorageEmail&&(localStorage.setItem("name",t.value),localStorage.setItem("tel",o.value)):(e.preventDefault(),console.log("Нужно ввести имя и телефон"))})};submitForm(form,name,tel),submitForm(mainForm,mainName,mainTel),modalForm.addEventListener("click",function(e){e.target.classList.contains("modal-form")?(console.log(2),e.preventDefault(),modalForm.classList.add("modal-form--closed")):console.log(1)});
//# sourceMappingURL=main.min.js.map
