var headerButton=document.getElementById("header-button"),callbackButton=document.querySelector(".modal-button"),modalContainer=document.querySelector(".modal-form"),modalCloseButton=document.querySelector(".modal-form__close-button"),mainForm=document.querySelector(".main-form"),mainName=document.getElementById("main-form-name"),mainTel=mainForm.querySelector("[name=tel]"),mainTextArea=mainForm.querySelector("[name=comment]"),modalForm=document.querySelector(".modal-form"),form=modalForm.querySelector("form"),nameFooter=form.querySelector("[name=name-popup]"),tel=form.querySelector("[name=tel]"),textArea=form.querySelector("[name=comment]"),footerRollBar=document.querySelectorAll(".roll-bar"),footer=document.querySelector(".footer__wrapper"),footerToggleButton=document.querySelectorAll(".footer__toggle"),footerFeedback=document.querySelector(".feedback");headerButton&&document.documentElement.clientWidth<768&&(headerButton.textContent="бесплатная консультация"),headerButton.addEventListener("click",function(e){e.preventDefault(),footerFeedback.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}),footerToggleButton.forEach(function(e){e.addEventListener("change",function(e){e.preventDefault(),footerRollBar.forEach(function(e){e.classList.contains("roll-bar--open")?e.classList.remove("roll-bar--open"):e.classList.add("roll-bar--open")})})});var isStorageSupport=!0,isStorageEmail=!0,storage="",telStorage="",onModalOpen=function(e){e.preventDefault(),modalForm.classList.contains("modal-form--closed")&&(modalForm.classList.remove("modal-form--closed"),storage&&telStorage?(nameFooter.value=storage,tel.value=emailStorage,textArea.focus()):storage?(nameFooter.value=storage,console.log(name),tel.focus()):nameFooter.focus())};try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}try{emailStorage=localStorage.getItem("tel")}catch(e){isStorageEmail=!1}callbackButton.addEventListener("click",onModalOpen),modalCloseButton.addEventListener("click",function(e){e.preventDefault(),modalForm.classList.add("modal-form--closed")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modalForm.classList.contains("modal-form--closed")||(e.preventDefault(),modalForm.classList.add("modal-form--closed")))});var submitForm=function(e,o,t){e.addEventListener("submit",function(e){o.value&&t.value?isStorageSupport&&isStorageEmail&&(localStorage.setItem("name",o.value),localStorage.setItem("tel",t.value)):(e.preventDefault(),console.log("Нужно ввести имя и телефон"))})};submitForm(form,name,tel),submitForm(mainForm,mainName,mainTel),modalForm.addEventListener("click",function(e){e.target.classList.contains("modal-form")?(console.log(2),e.preventDefault(),modalForm.classList.add("modal-form--closed")):console.log(1)});
//# sourceMappingURL=main.min.js.map
